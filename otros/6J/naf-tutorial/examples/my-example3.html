
<!DOCTYPE html>
<html>
  <head>
    <title>My Networked-Aframe Scene</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.4.0/socket.io.slim.js"></script>
    <script src="/easyrtc/easyrtc.js"></script>
    <script src="https://unpkg.com/networked-aframe@^0.10.0/dist/networked-aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>

    <script>
        // declare a component
        AFRAME.registerComponent("click-detector", {
         // called upon initialisation
         init: function() {
           // when a click is detected
           this.el.addEventListener("click", () => {
            // log "clicked"
            console.log("clicked")
           })
         }
        })
    </script>
  </head>
  <body>
    <a-scene networked-scene>
      <a-assets>
        <template id="avatar-template">
           <a-sphere 
           class="head"
           random-color 
           click-detector
           ></a-sphere>
        </template>
      </a-assets>
      
      <a-entity id="player" 
      networked="template: #avatar-template; attachTemplateToLocal:false;" 
      camera 
      wasd-controls 
      look-controls
      ></a-entity>

      <a-camera>
        <a-cursor></a-cursor>
      </a-camera>

    </a-scene>
  </body>
</html>
