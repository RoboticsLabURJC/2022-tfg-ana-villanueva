---
title: "Semana 9. A-frame"
categories:
  - Etapa de Entrenamiento
  - Septiembre
tags:
  - A-frame
youtubeId: 
---


Nos adentramos en la novena semana del blog. Los retos indicados son:

> Malla de colisión

> Determinar la fluidez de las físicas

> TFM Pablo Moreno


# Malla de colision

# Determinar la fluidez de las físicas

Algunas de las preguntas que buscamos responder son las siguientes:

¿Cada cuanto tiempo envía NAF información al esclavo?

¿Podría enviarse únicamente información, desde el maestro al esclavo, cuando se dan cambios en la escena?

Pero antes de adentarnos en las preguntas anteriores hemos de determinar la fluidez entre maestro y esclavo. Para ello se ha de crear una escena en la que cada 'x' segundos nuestra progatonista, la esfera, vuelva a la posición inicial, pero puede que esto no sea tan sencillo como parece.

Observaciones:

1. Una vez que las físicas han sido establecidas en la escena no podemos modificar la posición de la entidad afectada. Por tanto, para poder modificar la posición de nuestra entidad hemos de eliminar los atributos relacionados con las físicas para luego ponerselos de nuevo. 

            if (name == " ") {
                if (individual == "true") {
                    
                    setInterval(function(){
                        this.sphere.removeAttribute('ammo-body');
                        this.sphere.removeAttribute('ammo-shape');
                        this.sphere.setAttribute('position',{
                            x: 0, y: 5, z: -20
                        });
                        this.sphere.setAttribute('ammo-body', {
                                type: 'dynamic',
                                emitCollisionEvents: true
                        });

                        this.sphere.setAttribute('ammo-shape',{
                                type: 'sphere'
                        });
                        NAF.utils.takeOwnership(this.sphere);
                    },4000);

                    this.floor.setAttribute('ammo-body',{
                        type: 'static'
                    });
                    this.floor.setAttribute('ammo-shape',{
                        type: 'box'
                    });
                    NAF.utils.takeOwnership(this.floor);
                }
            }
2. Podemos modificar la cantidad de actualizaciones que se dan en el vector posición de una de nuestras entidades.

### Predeterminado.

          if (!NAF.schemas.hasTemplate("#sphere-template")) {
            NAF.schemas.add({
              template: '#sphere-template',
              components: [
                "position",                                                                   //
              ]
            });
          }

{% include video id="Tlm9RQxazYU " provider="youtube" %}

### Mejora de la precisión de la posición. 

          if (!NAF.schemas.hasTemplate("#sphere-template")) {
            NAF.schemas.add({
              template: '#sphere-template',
              components: [
                {
                    //Mejora precisión posición
                    component: "position",
                    requiresNetworkUpdate: NAF.utils.vectorRequiresUpdate(0.001)              //
                }
              ]
            });
          }

{% include video id="Eqia1btCLiQ " provider="youtube" %}

### Reduce de la precisión de la posición. 

          if (!NAF.schemas.hasTemplate("#sphere-template")) {
            NAF.schemas.add({
              template: '#sphere-template',
              components: [
                {
                    //Mejora precisión posición
                    component: "position",
                    requiresNetworkUpdate: NAF.utils.vectorRequiresUpdate(0.5)               //
                }
              ]
            });
          }

{% include video id="QX64QgqyT-Q " provider="youtube" %}



# TFM Pablo Moreno

